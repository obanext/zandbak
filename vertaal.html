<!DOCTYPE html>
<html>
<head>
    <title>Webpage Translation</title>
    <style>
        /* Add some styling to align images to the right and control the size of the images */
        #language-selector {
            text-align: right;
            margin-bottom: 20px; /* Add some space between the selector and the content */
        }
        #language-selector img {
            width: 50px; /* Reduced size */
            height: 50px; /* Reduced size */
            border-radius: 50%; /* This makes the images round */
            margin-left: 10px; /* Add some space between the images */
        }
    </style>
    <script>
        function createLanguageSelector() {
            // Define the available languages
            const languages = [
                { code: 'nl', name: 'Dutch', img: 'dutch.png' },
                { code: 'en', name: 'English', img: 'english.png' },
                { code: 'es', name: 'Spanish', img: 'spanish.png' },
                { code: 'ar', name: 'Arabic', img: 'arabic.png' },
                { code: 'uk', name: 'Ukranian', img: 'ukrainian.png' },
            ];

            // Create a div element to hold the images
            const languageSelector = document.createElement('div');
            languageSelector.id = 'language-selector';

            // Create an img element for each language
            for (const language of languages) {
                const img = document.createElement('img');
                img.src = language.img;
                img.alt = language.name;
                img.dataset.lang = language.code; // Use a data attribute to store the language code
                img.style.cursor = 'pointer'; // Change the cursor to a pointer when hovering over the image
                languageSelector.appendChild(img);
            }

            // Insert the div element before the content
            document.body.insertBefore(languageSelector, document.getElementById('content'));
        }

        function translatePage(lang) {
            var textToTranslate = document.getElementById('content').textContent;
            fetch('https://api.cognitive.microsofttranslator.com/translate?api-version=3.0&to=' + lang, {
                method: 'POST',
                headers: {
                    'Ocp-Apim-Subscription-Key': '',
                    'Content-Type': 'application/json',
                    'Ocp-Apim-Subscription-Region': 'westeurope'
                },
                body: JSON.stringify([{'Text' : textToTranslate}]),
            })
            .then(response => response.json())
            .then(data => {
                var translatedText = data[0].translations[0].text;
                document.getElementById('content').textContent = translatedText;
            })
            .catch(error => console.error('Error:', error));
        }

        // Run the createLanguageSelector function when the page loads
        window.onload = function() {
            createLanguageSelector();
            // Add a click event listener to each image
            const images = document.querySelectorAll('#language-selector img');
            images.forEach(img => {
                img.addEventListener('click', function() {
                    translatePage(this.dataset.lang); // Use the data attribute to get the language code
                });
            });
        };
    </script>
</head>
<body>
    <div id="content">
        Kom deze zomervakantie, vanaf 22 juli, naar de OBA voor de leukste zomervakantie in Amsterdam. Kinderen kunnen gratis bij ons ontwerpen, maken, luisteren naar verhalen, beleven, ontdekken, kijken, genieten en lezen. We zien je deze zomer graag bij de OBA.
    </div>
</body>
</html>
